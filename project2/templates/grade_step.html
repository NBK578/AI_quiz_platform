{% extends "base.html" %}
{% block title %}문제 풀이 ({{ idx + 1 }} / {{ total }}){% endblock %}

{% block content %}
<div class="container mt-5">
  <h2>문제 {{ idx + 1 }} / {{ total }}</h2>
  <div class="card mb-4">
    <div class="card-body">
      <p class="card-text">{{ question.question }}</p>
      {% if page %}
        <small class="text-muted">출제 페이지: {{ page }} 페이지</small>
      {% endif %}
    </div>
  </div>

  <form method="post" onsubmit="showLoading()">
    <div class="mb-3">
      <label for="answer" class="form-label">당신의 답안</label>
      <input
        type="text"
        class="form-control"
        id="answer"
        name="answer"
        required
        autofocus>
    </div>

    <div class="d-flex justify-content-between">
      {% if prev_idx is not none %}
        <a href="{{ url_for('grade_step', q_idx=prev_idx) }}" class="btn btn-outline-secondary">
          이전
        </a>
      {% else %}
        <span></span>
      {% endif %}
      <button type="submit" class="btn btn-primary">
        {% if idx + 1 == total %}제출 및 결과보기{% else %}다음{% endif %}
      </button>
    </div>
  </form>
</div>
{% endblock %}
